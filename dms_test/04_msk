> ## MSK + Debezium 사용 케이스

### 1. DDL 변경이 빈번한 테이블
sql
-- 자주 발생하는 경우
ALTER TABLE product ADD COLUMN new_field VARCHAR(100);
ALTER TABLE product DROP COLUMN old_field;
CREATE INDEX idx_new ON product(new_field);


DMS 문제: DDL 복제 안 됨 → 마이그레이션 중단
MSK + Debezium: DDL 이벤트 캡처 → 자동 반영 ✓

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


### 2. 실시간 동기화가 중요한 테이블
주문 테이블, 재고 테이블, 거래 테이블 등
→ 수초 내 동기화 필요


DMS CDC: 수초 ~ 수분 지연
MSK + Debezium: 밀리초 단위 지연 ✓

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


### 3. 스키마 진화(Schema Evolution)가 필요한 경우
개발 중인 테이블
→ 컬럼 추가/삭제가 자주 발생
→ 스키마 변경 시마다 수동 작업 필요


DMS: 수동으로 스키마 동기화
MSK + Debezium: 자동 스키마 진화 ✓

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


### 4. 이벤트 기반 아키텍처
Oracle 변경 → Kafka → 여러 시스템 동시 처리
                  ├─ PostgreSQL
                  ├─ Elasticsearch
                  ├─ Data Lake
                  └─ Analytics


DMS: 1:1 복제만
MSK + Debezium: 1:N 이벤트 스트리밍 ✓

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


### 5. 감사/추적이 필요한 테이블
모든 변경 이력을 Kafka에 영구 보관
→ 나중에 재처리 가능


DMS: 이력 보관 안 됨
MSK + Debezium: Kafka에 모든 이벤트 보관 ✓

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


## 사용하지 않는 경우

### DMS만으로 충분한 경우
✅ DDL 변경 거의 없음
✅ 배치 동기화 가능 (수분 지연 OK)
✅ 단순 1:1 복제
✅ 비용 최소화

> ## Debezium이 DMS CDC보다 빠른 이유

### 1. 로그 읽기 방식 차이

Debezium (직접 읽기)
Oracle Redo Log → Debezium → Kafka
(직접 연결, 중간 단계 없음)


DMS CDC (간접 읽기)
Oracle Redo Log → DMS 엔진 → 변환 → 타겟
(중간 처리 단계 많음)


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


### 2. 배치 처리 vs 스트리밍

Debezium
변경 발생 → 즉시 Kafka 전송 (밀리초)
→ 실시간 스트리밍


DMS CDC
변경 발생 → 배치로 모음 → 주기적 전송 (수초)
→ 마이크로 배치 처리

